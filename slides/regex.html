<!doctype html>
<html lang="en">
	<head>
		<title>CMSC330 - Regex</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css" id="theme">
		<link rel="stylesheet" href="plugin/highlight/stackoverflow.css">

		<link rel="stylesheet" href="dist/mystyle.css"> 
	</head>

	<body>
		<div class="reveal">
			<div class="slides">
				<section data-auto-animate data-auto-animate-unmatched="fade-up">
          <h1>CMSC330</h1>
          <h3>Regular Expressions</h3>
				</section>

				<section data-auto-animate class='fixvert'style="height: 600px">
					<h3>Regular Expressions</h3>
					<div class='fragment tl-diamond' data-fragment-index="1" data-id="1" style="background:purple;top:100px;"></div>
					<div class='fragment tl-data' data-fragment-index="1" style="top:93px;">Strings and Files</div>

					<div class='fragment tl' data-fragment-index="2" style="top:140px;"></div>
					<div class='fragment tl-diamond' data-fragment-index="2" data-id="2" style="background:blue;top:180px;"></div>
					<div class='fragment tl-data' data-fragment-index="2" style="top:173px;">Regex Intro</div>

					<div class='fragment tl' data-fragment-index="3" style="top:220px;"></div>
					<div class='fragment tl-diamond' data-fragment-index="3" data-id="3" style="background:green;top:260px;"></div>
					<div class='fragment tl-data' data-fragment-index="3" style="top:253px;">Regex in Ruby</div>
				</section>

				<section data-auto-animate class='fixvert' style="height:600px;">
					<h3>Strings and Files</h3>
					<div class='tl-circle' data-id="1" style="background:purple;bottom:10px;"></div>
					<div class='tl-circle' data-id="2" style="bottom:-10px;"></div>
					<div class='tl-circle' data-id="3" style="bottom:-30px;"></div>
        </section>
				<section data-auto-animate style="height:600px;">
					<h3>Strings and Files</h3>
					<div class='tl-circle' data-id="1" style="background:purple;bottom:10px;"></div>
					<div class='tl-circle' data-id="2" style="bottom:-10px;"></div>
					<div class='tl-circle' data-id="3" style="bottom:-30px;"></div>
          <section data-auto-animate>
          <p>Everything is a file <span class='fragment fade-up'>(at least in UNIX<span class='fragment fade-up'> (for the most part)</span>)</span></p>
          <p class='fragment fade-up'>Programs live in RAM<p>
          <p class='fragment fade-up'>Hard drives are for long term storage<p>
          <p class='fragment fade-up'>Programs read files to pick up where they left off</p>
          <p class='fragment fade-up'>Used in save or configuration files</p>
          </section>
          <section data-auto-animate>
          <p>Some files are binary files<p>
          <p class='fragment fade-up'>Some have text<p>
          <p class='fragment fade-up'>P1b loads data from file</p>
          <p class='fragment fade-up'>How to do this?</p>
          </section>
          <section data-auto-animate>
          <pre style='width:400px'><code data-line-numbers>#load_file.rb
f = File.open("file.txt")
line = f.gets #readline
lines = f.readlines
f.close
          </code></pre>
          <p class='fragment fade-up'>Commonly we need to go line by line</p>
          <pre style='width:400px'><code class='fragment' data-line-numbers>#line_by_line.rb
f = File.open("file.txt")
line = f.gets
while line
  #do something
  line = f.gets
end
          </code></pre>
          </section>
          <section data-auto-animate>
          <pre style='width:400px'><code data-line-numbers=3-7|9-16|18-25|27-30>#fun_strings.rb
# remove ending values

a = "hello\n"
puts a.chomp
a.chomp!
puts a

# substrings
a = "hello"
puts a[1]
puts a[-1]
puts a[1..]
puts a[0..4]
puts a[2..4]
puts a[2...4]

# substitution
a = "hello world"
a["world"] = "cliff"
puts a
a.sub!("hello", "bye")
puts a
a.gsub("f","ph")
puts a

# searching
a = "hello world"
puts a.include?("hello")
puts a.index("o")
          </code></pre>
          </section>
          <section data-auto-animate>
          <p>Not helpful if we want to find alternative spellings</p>
          <p class='fragment'>Color vs Colour</p>
          <p class='fragment'>Grey vs Gray</p>
          <p class='fragment'>Cliff vs Kliff vs Clyff vs Klyff vs Qulyph</p>
          </section>
        </section>

				<section data-auto-animate style="height:600px">
					<h3>Regex Intro</h3>
					<div class='tl-circle' data-id="1" style="bottom:10px;"></div>
					<div class='tl-circle' data-id="2" style="background:blue;bottom:-10px;"></div>
					<div class='tl-circle' data-id="3" style="bottom:-30px;"></div>
          <section data-auto-animate >
          <p>Regular Expression: <span data-id='5'>A pattern that describes a set of strings</span></p> 
          <p class='fragment fade-up'>Regular Expressions are used to describe regular languages (future lecture)</p> 
          <p class='fragment fade-up'>For now: a tool used to search for text</p> 
          </section>
          <section data-auto-animate >
          <p>A pattern that describes a set of strings</p> 
          <ul>
          <li class='fragment fade-up'>An Alphabet: symbols in the string</li>
          <li class='fragment fade-up'>Concatenation</li>
          <li class='fragment fade-up'>Branching (or)</li>
          <li class='fragment fade-up'>Grouping</li>
          <li class='fragment fade-up'>Repetition</li>
          </ul>
          <p class='fragment fade-up'>More about this in a future lecture</p> 
          </section>
        </section>

				<section data-auto-animate style="height:600px">
					<h3>Regex in Ruby</h3>
					<div class='tl-circle' data-id="1" style="bottom:10px;"></div>
					<div class='tl-circle' data-id="2" style="bottom:-10px;"></div>
					<div class='tl-circle' data-id="3" style="background:green;bottom:-30px;"></div>
          <section data-auto-animate>
          <p>Regexp Syntax: <tt>/pattern/</tt></p>
          <pre style='width:400px'><code class='fragment' data-line-numbers>#regex1.rb
puts /pattern/.class
          </code></pre>
          <p class='fragment fade-up'>Check to see if a string contains a pattern</p> 
          <pre style='width:430px'><code class='fragment' data-line-numbers>#regex2.rb
puts "pattern" =~ /pattern/
          </code></pre>
          </section>
          <section data-auto-animate>
          <p>Regexp Syntax: <tt>/pattern/</tt></p>
          <pre style='width:600px'><code class='fragment' data-line-numbers=2|4-7|9-12|14-17|19-22|24-27|29-32|34-37|39-42|44-47|49-52|54-57># regex3.rb
line = gets 

# string literal
if line =~ /cliff/
  puts "line contains "cliff"
end

# one string or another 
if line =~ /cliff|kliff/
  puts "line contains 'cliff or kliff'"
end

# we can add parenthesis
if line =~ /(c|k)liff/
  puts "line contains 'cliff or kliff'"
end

# and common letter grouping
if line =~ /[a-z]liff/
  puts "includes 'liff'"
end

# repetition makes things easy
if line =~ /[a-z]{5}/
  puts "any 5 letter string"
end

# digits can be matched too
if line =~ /[0-9]{1,3}/
  puts "any 1,2, or 3 digit number"
end

# combining adds complexity
if line =~ /[A-Za-z0-9]+/
  puts "alphanumberic with length 1+"
end

# can match some fun things
if line =~ /-?[0-9]+/
  puts "any integer"
end

# can match some useful things
if line =~ /-?[0-9]+(,-?[0-9]+)*/
  puts "a list of numbers"
end

# can be tricky
if line =~ /^start \d*  end$/
  puts "start number end"
end

# can be really tricky
if line =~ /[^start]\$\d+.\d{2}/
  puts "start number end"
end
          </code></pre>
          <p class='fragment fade-up'>Restriction: can only look forward, not predictive</p> 
          </section>
          <section data-auto-animate>
          <p>Grouping</p>
          <p class='fragment fade-up'>Searching is great, parsing is better</p> 
          <pre style='width:520px'><code class='fragment' data-line-numbers>#regex4.rb
line = gets
if line =~ /\(\d{3}\) \d{3}-\d{4}/
  puts "is phone number"
end
          </code></pre>
          <p class='fragment fade-up'>How can we find out the area code?</p> 
          </section>
          <section data-auto-animate>
          <p>Grouping</p>
          <p>How can we find out the area code?</p> 
          <ul>
          <li class='fragment fade-up'>Capture Groups</li>
          <li class='fragment fade-up'>Scanning</li>
          </ul>
          </section>
          <section data-auto-animate>
          <p>Grouping</p>
          <p>Parenthesized parts are stored as global variables</p> 
          <p class='fragment fade-up'>Refer to them using $\text{\$}$1,$\text{\$}$2 $\text{\$}$3,etc</p> 
          <pre style='width:540px'><code class='fragment' data-line-numbers>#back_reference.rb
line = gets
if line =~ /\((\d{3})\) \d{3}-\d{4}/
  puts $1
end
          </code></pre>
          <p class='fragment fade-up'>Issue: each match will reset the groupings</p> 
          </section>
          <section data-auto-animate>
          <p>Grouping</p>
          <p>String's scan method matches and groups</p> 
          <p class='fragment fade-up'>Will return array</p> 
          <pre style='width:540px'><code class='fragment' data-line-numbers># scanning.rb
line = gets
arr = line.scan(/\d+/)
puts arr

arr = line.scan(/[a-zA-Z0-9]{2}/)
puts arr

# parenthesis gives array of array
arr = line.scan(/(\d)(\d)/)
puts arr
          </code></pre>
          </section>
          <section data-auto-animate>
          <p>Grouping</p>
          <p>String's scan method matches and groups</p> 
          <p class='fragment fade-up'>Can also take a code block</p> 
          <pre style='width:540px'><code class='fragment' data-line-numbers># scanning2.rb
line = gets
arr = line.scan(/\d+/){|number|
  puts number.to_i*number.to_i
}
          </code></pre>
          </section>
        </section>

      </div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/math/math.js"></script>
    <script src="plugin/search/search.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
		<script>
     Reveal.configure({
        keyboard: {
          40: 'next', // go to the next slide with down arrow
          38: 'prev', // go to the next slide with up arrow
        }
      });
			Reveal.initialize({
				center: true,
				hash: true,
        controlsTutorial: false,
        showSlideNumber: 'print',
        pdfSeparateFragments: false,
				math: {
					// mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
					config: 'TeX-AMS_HTML-full',
					TeX: {
						Macros: {
							R: '\\mathbb{R}',
							set: [ '\\left\\{#1 \\; ; \\; #2\\right\\}', 2 ]
						}
					}
				},
				plugins: [ RevealHighlight, RevealMarkdown, RevealMath, RevealSearch, RevealZoom ]

			});
		</script>
	</body>
</html>
